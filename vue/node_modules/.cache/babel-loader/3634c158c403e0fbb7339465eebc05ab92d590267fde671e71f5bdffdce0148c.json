{"ast":null,"code":"import NavBar from \"@/component/NavBar.vue\";\nexport default {\n  name: \"Home\",\n  components: {\n    NavBar\n  },\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem(\"xm-user\") || \"{}\"),\n      typeData: [],\n      goodsData: [],\n      recommendData: [],\n      carousel_top: [require(\"@/assets/imgs/carousel-1.png\"), require(\"@/assets/imgs/carousel-2.png\"), require(\"@/assets/imgs/carousel-9.png\")],\n      carousel_left: [require(\"@/assets/imgs/carousel-3.png\"), require(\"@/assets/imgs/carousel-4.png\"), require(\"@/assets/imgs/carousel-5.png\")],\n      carousel_right: [require(\"@/assets/imgs/carousel-6.png\"), require(\"@/assets/imgs/carousel-7.png\"), require(\"@/assets/imgs/carousel-8.png\")]\n    };\n  },\n  mounted() {\n    this.loadType();\n    this.loadGoods();\n    this.loadRecommend();\n  },\n  methods: {\n    loadRecommend() {\n      console.log(\"正在加载推荐数据...\");\n      this.$request.get(\"/goods/recommend\").then(res => {\n        console.log(\"推荐接口返回数据:\", res);\n        if (res.code === \"200\") {\n          this.recommendData = res.data;\n          console.log(\"处理后的推荐数据:\", this.recommendData);\n        } else {\n          this.$message.error(res.msg);\n        }\n      }).catch(error => {\n        console.error(\"加载推荐数据出错:\", error);\n        this.$message.error(\"加载推荐数据失败，请刷新页面重试\");\n      });\n    },\n    loadType() {\n      this.$request.get(\"/type/selectAll\").then(res => {\n        if (res.code === \"200\") {\n          this.typeData = res.data;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    loadGoods() {\n      this.$request.get(\"/goods/selectTop15\").then(res => {\n        if (res.code === \"200\") {\n          this.goodsData = res.data;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    handleLogout() {\n      this.$confirm(\"确认退出登录吗？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        localStorage.removeItem(\"xm-user\");\n        this.$message.success(\"退出成功\");\n        this.navTo(\"/login\");\n      }).catch(() => {});\n    },\n    navTo(url) {\n      location.href = url;\n    }\n  }\n};","map":{"version":3,"names":["NavBar","name","components","data","user","JSON","parse","localStorage","getItem","typeData","goodsData","recommendData","carousel_top","require","carousel_left","carousel_right","mounted","loadType","loadGoods","loadRecommend","methods","console","log","$request","get","then","res","code","$message","error","msg","catch","handleLogout","$confirm","confirmButtonText","cancelButtonText","type","removeItem","success","navTo","url","location","href"],"sources":["src/views/front/Home.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <!-- 添加导航栏 -->\r\n    <nav-bar></nav-bar>\r\n\r\n    <div class=\"main-container\">\r\n      <div class=\"content-wrapper\">\r\n        <!-- 主题市场标题 -->\r\n        <div class=\"section-title\">\r\n          <i class=\"el-icon-shopping-bag-1\"></i>\r\n          主题市场\r\n        </div>\r\n\r\n        <div class=\"main-content-area\">\r\n          <!-- 左侧分类菜单 -->\r\n          <div class=\"category-menu\">\r\n            <div\r\n              class=\"category-item\"\r\n              v-for=\"item in typeData\"\r\n              :key=\"item.id\"\r\n              @click=\"navTo('/front/type?id=' + item.id)\"\r\n            >\r\n              <span>{{ item.name }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 中间轮播区域 -->\r\n          <div class=\"carousel-section\">\r\n            <!-- 顶部大轮播图 -->\r\n            <el-carousel\r\n              height=\"300px\"\r\n              class=\"main-carousel\"\r\n              indicator-position=\"outside\"\r\n            >\r\n              <el-carousel-item\r\n                v-for=\"(item, index) in carousel_top\"\r\n                :key=\"index\"\r\n              >\r\n                <img :src=\"item\" alt=\"carousel\" />\r\n              </el-carousel-item>\r\n            </el-carousel>\r\n\r\n            <!-- 下方小轮播图 -->\r\n            <div class=\"sub-carousel-container\">\r\n              <el-carousel height=\"200px\" class=\"sub-carousel\" :interval=\"4000\">\r\n                <el-carousel-item\r\n                  v-for=\"(item, index) in carousel_left\"\r\n                  :key=\"index\"\r\n                >\r\n                  <img :src=\"item\" alt=\"carousel\" />\r\n                </el-carousel-item>\r\n              </el-carousel>\r\n              <el-carousel height=\"200px\" class=\"sub-carousel\" :interval=\"4500\">\r\n                <el-carousel-item\r\n                  v-for=\"(item, index) in carousel_right\"\r\n                  :key=\"index\"\r\n                >\r\n                  <img :src=\"item\" alt=\"carousel\" />\r\n                </el-carousel-item>\r\n              </el-carousel>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 右侧用户信息区 -->\r\n          <div class=\"user-panel\">\r\n            <div class=\"user-info\" v-if=\"user.username\">\r\n              <img\r\n                @click=\"navTo('/front/person')\"\r\n                :src=\"user.avatar\"\r\n                :alt=\"user.name\"\r\n              />\r\n              <div class=\"welcome\">Hi，{{ user.name }}</div>\r\n              <el-button type=\"text\" class=\"logout-btn\" @click=\"handleLogout\">\r\n                <i class=\"el-icon-switch-button\"></i> 退出登录\r\n              </el-button>\r\n            </div>\r\n            <div class=\"user-info\" v-else>\r\n              <div class=\"login-tips\">\r\n                <el-button type=\"primary\" @click=\"navTo('/login')\"\r\n                  >登录</el-button\r\n                >\r\n                <el-button @click=\"navTo('/register')\">注册</el-button>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"quick-actions\">\r\n              <div class=\"action-item\" @click=\"navTo('/front/collect')\">\r\n                <i class=\"el-icon-star-off\"></i>\r\n                <span>我的收藏</span>\r\n              </div>\r\n              <div class=\"action-item\" @click=\"navTo('/front/address')\">\r\n                <i class=\"el-icon-location\"></i>\r\n                <span>我的地址</span>\r\n              </div>\r\n              <div class=\"action-item\" @click=\"navTo('/front/cart')\">\r\n                <i class=\"el-icon-shopping-cart-1\"></i>\r\n                <span>购物车</span>\r\n              </div>\r\n              <div class=\"action-item\" @click=\"navTo('/front/orders')\">\r\n                <i class=\"el-icon-document\"></i>\r\n                <span>我的订单</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 热卖商品区域 -->\r\n        <div class=\"section-block\">\r\n          <div class=\"section-header\">\r\n            <i class=\"el-icon-hot-water\"></i>\r\n            热卖商品\r\n          </div>\r\n          <div class=\"goods-grid\">\r\n            <div\r\n              v-for=\"item in goodsData\"\r\n              :key=\"item.id\"\r\n              class=\"goods-card\"\r\n              @click=\"navTo('/front/detail?id=' + item.id)\"\r\n            >\r\n              <div class=\"goods-img\">\r\n                <img :src=\"item.img\" :alt=\"item.name\" />\r\n              </div>\r\n              <h3>{{ item.name }}</h3>\r\n              <div class=\"price\">￥{{ item.price }} / {{ item.unit }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 猜你喜欢区域 -->\r\n        <div class=\"section-block\">\r\n          <div class=\"section-header\">\r\n            <i class=\"el-icon-magic-stick\"></i>\r\n            猜你喜欢\r\n          </div>\r\n          <div class=\"goods-grid\">\r\n            <div\r\n              v-for=\"item in recommendData\"\r\n              :key=\"item.id\"\r\n              class=\"goods-card\"\r\n              @click=\"navTo('/front/detail?id=' + item.id)\"\r\n            >\r\n              <div class=\"goods-img\">\r\n                <img :src=\"item.img\" :alt=\"item.name\" />\r\n              </div>\r\n              <h3>{{ item.name }}</h3>\r\n              <div class=\"price\">￥{{ item.price }} / {{ item.unit }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"@/component/NavBar.vue\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    NavBar,\r\n  },\r\n  data() {\r\n    return {\r\n      user: JSON.parse(localStorage.getItem(\"xm-user\") || \"{}\"),\r\n      typeData: [],\r\n      goodsData: [],\r\n      recommendData: [],\r\n      carousel_top: [\r\n        require(\"@/assets/imgs/carousel-1.png\"),\r\n        require(\"@/assets/imgs/carousel-2.png\"),\r\n        require(\"@/assets/imgs/carousel-9.png\"),\r\n      ],\r\n      carousel_left: [\r\n        require(\"@/assets/imgs/carousel-3.png\"),\r\n        require(\"@/assets/imgs/carousel-4.png\"),\r\n        require(\"@/assets/imgs/carousel-5.png\"),\r\n      ],\r\n      carousel_right: [\r\n        require(\"@/assets/imgs/carousel-6.png\"),\r\n        require(\"@/assets/imgs/carousel-7.png\"),\r\n        require(\"@/assets/imgs/carousel-8.png\"),\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.loadType();\r\n    this.loadGoods();\r\n    this.loadRecommend();\r\n  },\r\n  methods: {\r\n    loadRecommend() {\r\n      console.log(\"正在加载推荐数据...\");\r\n      this.$request.get(\"/goods/recommend\").then((res) => {\r\n        console.log(\"推荐接口返回数据:\", res);\r\n        if (res.code === \"200\") {\r\n          this.recommendData = res.data;\r\n          console.log(\"处理后的推荐数据:\", this.recommendData);\r\n        } else {\r\n          this.$message.error(res.msg);\r\n        }\r\n      }).catch(error => {\r\n        console.error(\"加载推荐数据出错:\", error);\r\n        this.$message.error(\"加载推荐数据失败，请刷新页面重试\");\r\n      });\r\n    },\r\n    loadType() {\r\n      this.$request.get(\"/type/selectAll\").then((res) => {\r\n        if (res.code === \"200\") {\r\n          this.typeData = res.data;\r\n        } else {\r\n          this.$message.error(res.msg);\r\n        }\r\n      });\r\n    },\r\n    loadGoods() {\r\n      this.$request.get(\"/goods/selectTop15\").then((res) => {\r\n        if (res.code === \"200\") {\r\n          this.goodsData = res.data;\r\n        } else {\r\n          this.$message.error(res.msg);\r\n        }\r\n      });\r\n    },\r\n    handleLogout() {\r\n      this.$confirm(\"确认退出登录吗？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          localStorage.removeItem(\"xm-user\");\r\n          this.$message.success(\"退出成功\");\r\n          this.navTo(\"/login\");\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    navTo(url) {\r\n      location.href = url;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.main-content {\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\r\n  padding-bottom: 40px;\r\n}\r\n\r\n.main-container {\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.content-wrapper {\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border-radius: 15px;\r\n  box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);\r\n  backdrop-filter: blur(4px);\r\n  padding: 25px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.section-title {\r\n  color: #2c3e50;\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n  margin-bottom: 25px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 2px solid #e8e8e8;\r\n}\r\n\r\n.main-content-area {\r\n  display: flex;\r\n  gap: 25px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.category-menu {\r\n  width: 220px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 15px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.category-item {\r\n  padding: 12px 15px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  border-radius: 8px;\r\n  color: #2c3e50;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.category-item:hover {\r\n  background: #f0f2f5;\r\n  color: #04bf04;\r\n}\r\n\r\n.carousel-section {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n.main-carousel {\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.main-carousel :deep(.el-carousel__item) img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.sub-carousel-container {\r\n  display: flex;\r\n  gap: 20px;\r\n}\r\n\r\n.sub-carousel {\r\n  flex: 1;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.sub-carousel :deep(.el-carousel__item) img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.user-panel {\r\n  width: 280px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n.user-info {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  text-align: center;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.user-info img {\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 50%;\r\n  margin-bottom: 10px;\r\n  cursor: pointer;\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.user-info img:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.welcome {\r\n  font-size: 16px;\r\n  color: #2c3e50;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.login-tips {\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: center;\r\n}\r\n\r\n.logout-btn {\r\n  color: #ff4757;\r\n}\r\n\r\n.promo-banner {\r\n  background: white;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.promo-banner img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.quick-actions {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 15px;\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 15px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.action-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 15px;\r\n  cursor: pointer;\r\n  border-radius: 8px;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.action-item:hover {\r\n  background: #f0f2f5;\r\n  color: #04bf04;\r\n}\r\n\r\n.action-item i {\r\n  font-size: 24px;\r\n}\r\n\r\n.section-block {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  margin-bottom: 25px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  font-size: 18px;\r\n  color: #2c3e50;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 15px;\r\n  border-bottom: 1px solid #e8e8e8;\r\n}\r\n\r\n.goods-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.goods-card {\r\n  background: white;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  transition: all 0.3s;\r\n  cursor: pointer;\r\n  border: 1px solid #eee;\r\n}\r\n\r\n.goods-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.goods-img {\r\n  position: relative;\r\n  padding-top: 100%;\r\n}\r\n\r\n.goods-img img {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.goods-card h3 {\r\n  margin: 10px;\r\n  font-size: 14px;\r\n  color: #2c3e50;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.price {\r\n  margin: 10px;\r\n  color: #ff5000;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n}\r\n\r\n@media (max-width: 1200px) {\r\n  .main-content-area {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .category-menu {\r\n    width: 100%;\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\r\n    gap: 10px;\r\n  }\r\n\r\n  .user-panel {\r\n    width: 100%;\r\n  }\r\n\r\n  .quick-actions {\r\n    grid-template-columns: repeat(4, 1fr);\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .sub-carousel-container {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .quick-actions {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  .goods-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\r\n  }\r\n}\r\n</style>"],"mappings":"AA2JA,OAAAA,MAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAF;EACA;EACAG,KAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,QAAA;MACAC,SAAA;MACAC,aAAA;MACAC,YAAA,GACAC,OAAA,kCACAA,OAAA,kCACAA,OAAA,iCACA;MACAC,aAAA,GACAD,OAAA,kCACAA,OAAA,kCACAA,OAAA,iCACA;MACAE,cAAA,GACAF,OAAA,kCACAA,OAAA,kCACAA,OAAA;IAEA;EACA;EACAG,QAAA;IACA,KAAAC,QAAA;IACA,KAAAC,SAAA;IACA,KAAAC,aAAA;EACA;EACAC,OAAA;IACAD,cAAA;MACAE,OAAA,CAAAC,GAAA;MACA,KAAAC,QAAA,CAAAC,GAAA,qBAAAC,IAAA,CAAAC,GAAA;QACAL,OAAA,CAAAC,GAAA,cAAAI,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAhB,aAAA,GAAAe,GAAA,CAAAvB,IAAA;UACAkB,OAAA,CAAAC,GAAA,mBAAAX,aAAA;QACA;UACA,KAAAiB,QAAA,CAAAC,KAAA,CAAAH,GAAA,CAAAI,GAAA;QACA;MACA,GAAAC,KAAA,CAAAF,KAAA;QACAR,OAAA,CAAAQ,KAAA,cAAAA,KAAA;QACA,KAAAD,QAAA,CAAAC,KAAA;MACA;IACA;IACAZ,SAAA;MACA,KAAAM,QAAA,CAAAC,GAAA,oBAAAC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAlB,QAAA,GAAAiB,GAAA,CAAAvB,IAAA;QACA;UACA,KAAAyB,QAAA,CAAAC,KAAA,CAAAH,GAAA,CAAAI,GAAA;QACA;MACA;IACA;IACAZ,UAAA;MACA,KAAAK,QAAA,CAAAC,GAAA,uBAAAC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAjB,SAAA,GAAAgB,GAAA,CAAAvB,IAAA;QACA;UACA,KAAAyB,QAAA,CAAAC,KAAA,CAAAH,GAAA,CAAAI,GAAA;QACA;MACA;IACA;IACAE,aAAA;MACA,KAAAC,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GACAX,IAAA;QACAlB,YAAA,CAAA8B,UAAA;QACA,KAAAT,QAAA,CAAAU,OAAA;QACA,KAAAC,KAAA;MACA,GACAR,KAAA;IACA;IACAQ,MAAAC,GAAA;MACAC,QAAA,CAAAC,IAAA,GAAAF,GAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}